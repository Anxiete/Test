<%= render "header" %>
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="<%= homepage_path %>">Home</a></li>
    <li class="breadcrumb-item"><a href="">Clan</a></li>
    <li class="breadcrumb-item"><%=link_to @card.card_clan.name, clan_path(@card) %></li>
    <li class="breadcrumb-item active" aria-current="page"><%=@card.name%></li>
  </ol>
</nav>
<div class="card mb-1 mx-auto " style="max-width: 75%;">
  <div class="row g-0">
    <div class="col-md-4">
       <% if @card.image.present? %>
          <%= image_tag @card.image, :alt => @card.name, :class => "img-fluid" %>
        <% else %>
        <% 
          require 'net/http'
          require 'uri'
          img_url = @card.img
          res = Net::HTTP.get_response(URI.parse(img_url))
          img_url = 'https://images.vanguardcard.io/images/assets/CardBack.jpg' unless res.code.to_i >= 200 && res.code.to_i < 400
        %>
          <img src="<%=img_url%>" alt="<%= @card.name%> " class="img-fluid">
        <% end %>
    </div>
    <div class="col-md-8">
      <div class="card-body">
        <h5 class="card-title"><%= @card.name%></h5>
        <p class="card-text"><%= @card.flavor %></p>
        <p class="card-text">Power: <%= @card.power %></p>
        <p class="card-text">Clan: <%= link_to @card.card_clan.name, clan_path(@card) %></p>
        <p class="card-text">Shield: <%= @card.shield %></p>
        <p class="card-text">Effect: <%= @card.effect %></p>
        <p class="card-text">Price: <%= @card.price %></p>
      </div>
    </div>
  </div>
</div>